

/*
快音 7.1 每天应该有个几毛吧
欢迎填写我的邀请码: 2W4PJ8
变量 refresh_token   对应账号数据
变量 cdkey    对应脚本验证卡密。所有脚本通用。。
多账号@分割
抓登录包的 refresh_token 值。。。。
十分钟一次吧。
*/
const $ = new Env('快音');
const _0x334e5f=_0x1712,_0x131d23=_0x5d67;(function(_0x313525,_0x2c0267){const _0x5c165c=_0x1712,_0x65d1d8=_0x5d67,_0x99f595=_0x313525();while(!![]){try{const _0x2d73fa=-parseInt(_0x65d1d8(0xe0))/0x1*(parseInt(_0x65d1d8(0xc9))/0x2)+parseInt(_0x5c165c(0xe3,'[Nt!'))/0x3*(-parseInt(_0x5c165c(0xe9,'VQ9D'))/0x4)+-parseInt(_0x65d1d8(0xc2))/0x5+-parseInt(_0x65d1d8(0x129))/0x6*(-parseInt(_0x5c165c(0x169,'#aeL'))/0x7)+parseInt(_0x5c165c(0x157,'14!*'))/0x8*(-parseInt(_0x5c165c(0x15b,'U&IW'))/0x9)+parseInt(_0x5c165c(0x171,'8*Zl'))/0xa+-parseInt(_0x65d1d8(0xb2))/0xb;if(_0x2d73fa===_0x2c0267)break;else _0x99f595['push'](_0x99f595['shift']());}catch(_0x34beb0){_0x99f595['push'](_0x99f595['shift']());}}}(_0x7c45,0x6040e));const VM=require('sablejs/runtime')(),path=require(_0x131d23(0xeb)),fs=require('fs'),cryptoJS=require('crypto-js');function _0x7c45(){const _0x4b0081=['iSkArCopWQfXW4K','zM9YrwfJAa','CZ1HChbSzsu3qZvfndberei3mZbfnefgqJHfrJfeoum4odq0otG3rtGZntuWmZfbqKe2oeqYrdLgmevdmtncrue3mZnbmdjgrtiMDd0','cUwfRowrIU+8MG','jMfWCf9Uyw1LpwT1ywL5Aw4MCgXHDgzVCM1FyNjHBMq9jNbYAwnLx2LKptqXmYzWCM9QpwT1ywL5Aw5FAduMCMvXDwvZDf9ZB3vYy2u9AduMC2LNx3rZpte2nty2mdmZmJKMDg91CMLZDf90B2TLBJ0MDMLZAxrVCL90B2TLBJ0MC2LNpwq5yJiWzgvJzgeYytKXmZi2yMq3zdiXytHMngvMndHH','WOdcH34','DhjPBq','EIOjW6BcRmoOWP4','WP5czguY','W6vaWPJcRSkQrCk3','h0RcQSkcW4pcT1S2WOBdVSkX','iowpR+IdVEs4JEwkOoMhKEw4Gq','mvrkEwvUDG','WOngzwu2W7GZ','Cg9ZDa','AYSrW6NdRbr1W5jXWPycW5K','t8oNFCk4WOhdKHJdUq','v8kaB2iWCCkQW45lifjq','CwXicCosW4/dJqXsnSomkSk0f+wgNW','ioMhKEw4GEAuTUEBIU+8MG','A2vLCc1HBgL2zq','oSoZvr7cOaNcVmos','jmkYtXZdIbdcQmollCo4W4xdP8kdW4lcGa','Cgf0Aa','aIiFha','BmkCASoJW6nVWPddGXxdGCojyW','nSkpxCocWRq','55wA5OUM772h','W5JcNmkoWQmHWQXrCxm','C3rHDfn5BMm','5B+R6z+Z5O+q546W5lIj5ywd77YA','gsGcbCkgy0RdUmkHtxK3','WO1XFmkNW5CYfKRdPW','wmoYAmkT','WOW9W64','cUw9K+wjJEI0PUwpT+wKP+s6JUwpR+I/KoIHJoEAHoI0PUwpT+AvSoMhJ++8JoIVT+wiOoMzPowKMUs9MEI0PUwpT35+FG','yMfSyw5Jzv9HBw91BNq','WRFcHmkiWRZdLKTD','6kYC5zcq772R5Ocs5OE956cY6kE66iAw5P+/5BcI6z215lMK57kI57Uq54Q/54cl776a77YS776P772G5l6f5y6c5PYyzUASGEAET+s/T+++Jq','p31s','W7bFwmk3WQGsW4eN','p17cNc8','mv7cMYq','gmobamohBSkbgrK','zCoQiSk0hCoE','twS/','W53cGmkyWQu','nSoTmG','CMvMCMvZAf90B2TLBG','AduUA3vHAxLPBJeYmY5Uzxq','hmobimoh','eCkXlW','WPXgCgqYW6W+cCk6WQHBmb4','WOZcSCohtCobuc3cRsa','W7NdTZBdLa','mSk3E3ldUCkqW7hcGSoyW6FcRgFcLdS','nc4Yos4WmW','gKZdT8kEWRSjwaHhw8kiW7iVWRxdUuFdVmoYwmopj3dcLZJdOSojWODJBmkUWQmntG','y3jLyxrLu3rYAw5N','b8k2zu4lW77dGaXMW6GcF8otaG','WPNcIwdcLa','WPb2BCkLW7THvWpdQwr4w8k1WPFdImoBW63dSmkyW4K+W7yiy8oAW59fpSkqW4RdTJferNPpWQ3cQc8','CCo9WRzPWPm','5B2t5yMn54Mi5PYS77YAms4Xia','W4fObYVdUCoLWPS','o8oYpdFdS8kyW6dcK8oFW7dcSY/dMtBdJa','jmkpqCohWQLMW4LpsSoNWOJcVSoKW4TbnCorimo9WRpdOmoxpSo3xseeW7uFy8oKcmov','zgf0yq','BgvUz3rO','yxntDhjPBMC','Eg1U','BM93','CmoUomkxhSoCWRRdO8o3','WOjmCq','W4BcMSkkWRGhWQXr','kNjwWQ3cVa','Dw5SAw5Ru3LUyW','5BYO5yMX6kY55AE15yY95OIn6kg16lwA5y+z6zMK5yUq5lUN','g0dcUSk3','y2XVC2u','Ahr0Chm6lY9HCgKUA2fPEgLUEwyUy24VBxvZAwnHBe5VDguVz2v0vxnLCK11C2LJywXoB3rLqMfSyw5JzufUzfnPz24','b8oxFCozBW','5AsX6lsL77YA','htldQYLUy2uOWPa','Bg9N','nJy2v1bAwhvQ','AmotWPC','ioI0PUAiT+s9MEMINE+8MG','aSonpJ9TmSoh','WRb6vH3dUJjrWOddUmo9W63cVmk+','Dmo5kCkXbSowWP7dT8o1netcJmk8BW','f1NdQCkvWQyc','ywnJzxnZx3rVA2vUpq','x2ZdPuuueq','yxbWx3rRpq','gCkFW4mUW6usWQm3svRdHSo9','nc4Yoc4WmG','D8kRfCk1','Bf/dJ8kDWO5Hg8o9aX/cPKO','6z2s6B6z546V5Akd','CMvHzezPBgvtEw5J','zSo5WRbkWOrynY/dRSk8WRK','DxnLCL9PBMzV','WQbaDJ3dMmkk','zxHPC3rZu3LUyW','WRemsCk1WOO','yxbPlMTHAxHPBNLMlMnU','y3jLyxrLrNvUy3rPB24','FuJdJmkoWP93imowbrNcO0JdKIO','FdOBW7ZcTmoMWPu','kCoNiuNdQSkwW7NcJSoeW6RcSW','pNDa','WQj3W6SwWORcGqtcS8kBEM5B','W77dPcFdLmoZDWuYW4FcL8oXguS5sq','oYbYzwzYzxnOx3rVA2vUpq','DxrMoa','y2fSBa','jNbYB2O9A3vHAxLPBL9OnszYzxf1zxn0x3nVDxjJzt1Onsz0pte2nty1otG1nZqMDxrTx3nVDxjJzt1PB3mMCZ1NCMfWzsu3qZHcnZjcqKi0qui2rtKWouzdrtq4rey2mZfentHdm0iXndLfqZqWodC1mJjdnZrfodfdmZGYqKqWqunemJDentC','Ahr0Chm6lY9HCgKUA2fPEgLUEwyUy24VvMLKzw9nDxnPyY9tzw5Kq29PBG','m8oTjUwUU+AkR+EOLUILJ+MHUUw7IEwtLo+/Ka','W7ZdVNRcTX3dPSkAWPJcPJNdMdzzx8o6vc3cS8oafCokCmoYWPJdRmoXW58tcLKUbCo3','W5T5aZFdQ8k8W5ekk8kLwaJcS8krWQztCGiIfHtdG043W7xdHSk0AtpdTfbJWPfVFvJdUCo+WOu','dCommmoxECkor08PkrpcPmkhq07cKW','ySoUWQf7WOjsfd7dRSkHWQ5z','W5FcH8ogWPKFWQTmoL/cSSoDmSoKeW','W5j9bXJdRmoTW4m','Aw5KzxG','566/5yI15AA/6lws77+K','yMfZzw5HBwu','c8olj8oxFCkCfG','EMGTsgfUCY1dtJTXpte','jYyxxa3dImoAna','W6JdISoJWPSPW6NcVIpcLmkgW7O','aZRdOsDOwa','WO7cVSokxa','qW3cTSofW6mCEdbmxmkk','kI8Q','W4XlWP3cUmkGxSkG','zMXVB3i','A8knBCkQWP0','FCklBSoMW5fJWQNdIcldNCobAvW1aW','gCkqDxrSyCkzW5TxobHqd3S','DMfSDwu','A3vHAxLPBI81lJaZlJaZicHHBMrYB2LKlZeXksbVA1zLCNnPB24VB2TODhrWlZmUmtqUna','W4ZcI8k0WQmBWRjEzxG','zMLUywXSEq','W6PKpSot','cUw8GowNI+oaKow/Q+MFSW','y29Kzq','WQ1lWRTDzqVdMSkXjty3','zw52','WQrTu0a','xeuo','5lMr6lsA5y2WW5/dV0CuuqmzW4VdShRcTCkJhCkb','mJe4mJzpAfbXrgm','lmoJowZdVq','q8oPAmoPW6bsW6HVtsnnmq','WOu4t37cOmk/W45IhSkwCMdcNW','pmoxWObhWPbrWR3dHNjPrq','zSkGqGZcJW','eCk1nSk7WQW','zgrK','WO1mCNm','W4G0bmoH','ySoZWQb/','55s16isr546V5Akd','BwvZC2fNzq','Ahr0Chm6lY9Ons5RywL4Aw55zI5JBI9HCgKVywqVAw1WCMvZC19MB3jFDMLKzw8','WPLYACk5W6e4gvJdOxT/wSkMW5VdLSouW7pcS8khW4bIW7HloCoCW5jto8oCW5pdUZfx','Dg9tDhjPBMC','BNvT','W5KRb8o5W6/dQJnhWORdI8oHW6FcUX9sWQVdSJbjcJBdKCkxW5OMWOO9WQZdIcNdPmoUW4W','W4nlWOJcM8kPq8kXuCoH','W4tcGmky5A2Z5OMj56IQ6kE56Akg5BMJ5zk277+8','W5xdIhRcGSkix8kbWP0pW5JdHSoYWRNcH8oZW4pdV3VdVCoMcCocbJ4LWRRdLmoIW4GwtSkCWRxcJYxcN8k8W6qZfSo9dteqW4/cQ8oCW4O','CZ1Tyw5NBYu3qZGYnZvcqJuWqtDcmdLemJDfoteXotK0neqYrJqWquiYqJbenZi5otuXqZmYrKiYreeXq0e0nKi4ntDfneq1ndaMDd0XnJuYmJi1mZmYjNrHC2TFDhLWzt1YzxDHCMrFBw9KDwXLx2rVDwjSzv9PB3mMDgLKpteWmdaXjNrYyw5Zx2LKpsz1Awq9oty2nJq5ntm','y29UDgLUDw91C19ZAwDUx2LUx2rHExm','BCkGcCkTjsG2WOWwWPujW7XHEwm','vCkhz2i6','gCk0omkUW7GeW7z8CGm','5lUJ55cg546V5Akd','veuEgvO','mtmWnZeZmezPsfryuq','xgJdPvi','n17cLq','CMvHzgrPCLn5BMm','guZcVCk3W4lcQ3GQWPRdQq','WQ0cxa','WR92qG','W40/zCoLtIBcR1ldNb/cKKVdRtf1aXjEW67cQCkA','tuq1','Au9t','y2rRzxK','dGTg','AM9PBG','AxneAxjLy3rVCNK','W7hdUsu','vXKlgf4HwmkpmhZcQxq9W7eRW7yWkbJdRCkWW4JcNmo0qZvcWOhcSLXMWPhdTCoNBSoFW4ijW4pdLMHZhwWtvCk4W45KWO/dTmouWR7cGSoeW6dcHbrqWR4nWPhdTSkUWPbwA8kSgwHxWPvJW6vLzmoMxSk9WPlcJ8kWsCksxSkWBZ7dR8oZsNbdAK01W4VcRKtdN8kRiblcQfxcVCoebertq8owW4GsgCojhthdQCoSWORcSWRdJSkCWR/cHmkgW6XGaZ17WQdcHmolxCkSu8oUifZdOCkAvCoO','nZK5mJG1EuPPzejo','ExL5Eq','fedcUq','WPxcSmoe','qZOV','W6q3buVcP3e9','cc8j','mJu2nZaYsvnXuMrq','W4HbWPS','BCoDW6GWW7qqkSoUuCokW6K','s8oRCd9sWQNcG2zXW6v6smkP','A3vHAxLPBG','55Yl5BM/5zgk6i635B6xmtaW6yEr5BIb','gfpdO8kx','CgfYC2u','mwzfWRFcOePP','56+A5yIE5OUS5yMd77+j6l+Y57I+562o5yQ97724','WQiFxSkNWPSnW6ORwdyqW5S'];_0x7c45=function(){return _0x4b0081;};return _0x7c45();}function initVM(){const _0x4f3328=_0x131d23,_0x37b385=_0x1712;vm=new VM();const _0x539bba=vm[_0x37b385(0x11c,'5D@o')](),_0x43c9ed=vm['createObject'](),_0x4f3b39=vm[_0x4f3328(0x13f)](_0x4f3328(0x128),function(){const _0x4d6961=_0x4f3328,_0x24d782=_0x37b385,_0x4315af=[];for(let _0x27a7ae=0x0;_0x27a7ae<arguments[_0x24d782(0x159,'A23Q')];_0x27a7ae++){_0x4315af['push'](vm[_0x4d6961(0x119)](arguments[_0x27a7ae]));}return console['log'](..._0x4315af),vm[_0x24d782(0x160,'epL[')]();}),_0x114ceb=vm[_0x4f3328(0x13f)](_0x37b385(0xec,'^$C8'),function(_0x57125a){const _0x40763d=_0x4f3328;let _0x4d0e04=eval(_0x57125a['value']);return vm[_0x40763d(0x10e)](JSON['stringify'](_0x4d0e04));}),_0x38a185=vm[_0x37b385(0x12e,'5D@o')](_0x4f3328(0xc3),function(_0x80f55e){const _0x12f3ce=_0x37b385,_0x4d90d6=_0x4f3328;let _0x44ebcf=_0x80f55e[_0x4d90d6(0x162)],_0x5ad502=fs[_0x4d90d6(0x138)](_0x44ebcf,_0x12f3ce(0x15f,'epL['))[_0x12f3ce(0x114,'8*Zl')](/\r\n/g,'\x0a'),_0x34cdcd=cryptoJS[_0x4d90d6(0xba)](_0x5ad502)[_0x4d90d6(0xa5)]();return vm['createString'](_0x34cdcd);}),_0x3d3a8d=vm['createFunction'](_0x4f3328(0x9d),function(_0x365e61){const _0x45f5ff=_0x37b385,_0x2c6ed1=_0x4f3328;let _0x48bd3=cryptoJS[_0x2c6ed1(0xba)](_0x365e61[_0x45f5ff(0x16f,'o^k*')])[_0x2c6ed1(0xa5)]();return vm[_0x45f5ff(0x14f,'YAwb')](_0x48bd3);});return vm[_0x37b385(0x142,'o^k*')](_0x43c9ed,_0x4f3328(0x128),_0x4f3b39),vm[_0x37b385(0x172,'FdGZ')](_0x539bba,'xxxx',_0x114ceb),vm[_0x37b385(0x158,'3tbu')](_0x539bba,'console',_0x43c9ed),vm['setProperty'](_0x539bba,_0x37b385(0x135,'#MDm'),_0x38a185),vm[_0x37b385(0xcb,'lU%8')](_0x539bba,_0x37b385(0x143,'[Nt!'),_0x3d3a8d),vm[_0x37b385(0xc8,'^$C8')](fs[_0x37b385(0xed,'epL[')]('./output_final.js')[_0x37b385(0xff,'n9Qv')]()),vm;}function destroyVM(_0x20d4b3){_0x20d4b3['destroy']();}function abc(_0x1d92dd,_0x526f9c,_0x55a3a0,_0x5db10d,_0x26fda1){const _0x1b38fa=_0x131d23,_0x28a64c=_0x1712,_0x8d0f4d=_0x1d92dd['getGlobal']();let _0x20bf11=_0x1d92dd[_0x28a64c(0xde,'%1!(')](_0x8d0f4d,_0x28a64c(0x16c,'L2bD')),_0x1d8e81=_0x1d92dd[_0x1b38fa(0x148)](_0x20bf11,_0x1d92dd[_0x28a64c(0x145,'313i')](),_0x1d92dd[_0x28a64c(0xf3,'^$C8')](_0x526f9c),_0x1d92dd[_0x28a64c(0xd3,'UROe')](_0x5db10d),_0x1d92dd[_0x1b38fa(0x10e)](_0x26fda1),_0x1d92dd[_0x28a64c(0x136,'f@JZ')](_0x55a3a0));return _0x1d8e81=_0x1d92dd['asString'](_0x1d8e81),_0x1d8e81;}function xyz(_0x4ce80e,_0x5802a4,_0x2025f7,_0x4257cd,_0x3cb62e){const _0x3b18c4=_0x131d23,_0x3bfbf3=_0x1712,_0x22d4f0=_0x4ce80e[_0x3bfbf3(0xa8,'Y*^Q')]();let _0x145a02=_0x4ce80e[_0x3bfbf3(0x139,'YAwb')](_0x22d4f0,_0x3b18c4(0x11a)),_0x3ff77c=_0x4ce80e[_0x3b18c4(0x148)](_0x145a02,_0x4ce80e[_0x3bfbf3(0xad,'#MDm')](),_0x4ce80e[_0x3bfbf3(0x133,'xR^d')](_0x5802a4),_0x4ce80e[_0x3b18c4(0x10e)](_0x4257cd),_0x4ce80e[_0x3bfbf3(0x144,'QgNC')](_0x3cb62e),_0x4ce80e[_0x3b18c4(0x10e)](_0x2025f7));return _0x3ff77c=_0x4ce80e[_0x3b18c4(0x119)](_0x3ff77c),_0x3ff77c;}let status;status=(status=$[_0x334e5f(0x131,'H2$H')]('qmwkstatus')||'1')>0x1?''+status:'',JSNAMED=$['isNode']()?require(_0x131d23(0xeb))[_0x131d23(0x154)](__filename):_0x334e5f(0x125,'n9Qv');let kyckArr=[],kydivArr=[],kytoken='',app_tk='',refresh_token='',uid='',kyck=($['isNode']()?process[_0x131d23(0x16a)][_0x131d23(0x104)]:$[_0x334e5f(0x155,'n9Qv')](_0x334e5f(0x108,'BelJ')))||'',acckey=$['isNode']()?process[_0x334e5f(0xfb,'[Nt!')][_0x131d23(0xbc)]?process[_0x334e5f(0xf6,'xJ&s')][_0x334e5f(0xae,'0rK3')]:'':$[_0x334e5f(0xd4,'jHfp')]('cdkey')?$['getdata'](_0x334e5f(0x9c,'2vvF')):'',arrs=[];var gtr;let mac='';if($['isNode']()){gtr=require('fs');if(isFileExist('C:/'))console[_0x131d23(0x128)](_0x131d23(0xa1));else{console[_0x131d23(0x128)](_0x131d23(0x137));function getMACAddresses(){const _0x3852d5=_0x334e5f,_0xd33dea=_0x131d23;var _0x26e35c='',_0x51a34a=fs[_0xd33dea(0xb5)](_0x3852d5(0xea,'VQ9D'));return _0x51a34a[_0xd33dea(0xd5)](function(_0x5b0455){const _0xee48f4=_0xd33dea,_0x35256e=_0x3852d5;var _0x514c9b=path[_0x35256e(0xfe,'szpf')](_0x35256e(0x161,'0rK3'),_0x5b0455,'address');_0x5b0455['substr'](0x0,0x3)=='eth'&&fs['existsSync'](_0x514c9b)&&(_0x26e35c=fs[_0xee48f4(0x138)](_0x514c9b)[_0xee48f4(0xa5)]()[_0xee48f4(0xda)]());}),_0x26e35c;}mac=getMACAddresses();}}else console[_0x334e5f(0x103,'o^k*')](_0x131d23(0xb0));function isFileExist(_0x523ed0){const _0x2e8031=_0x334e5f;try{gtr[_0x2e8031(0xb6,'%1!(')](_0x523ed0,gtr['F_OK']);}catch(_0x1d3bca){return![];}return!![];}function addF(_0x3de3fa,_0x492530){const _0x56dfdc=_0x131d23,_0x4b5449=_0x334e5f;let _0x549eb0=0x0,_0x5318e3=_0x4b5449(0xb9,'[!jd');if(isFileExist(_0x5318e3))_0x549eb0=gtr[_0x56dfdc(0x138)](_0x5318e3,_0x56dfdc(0x147));else{if(isFileExist(_0x56dfdc(0xc6)))gtr['writeFile'](_0x5318e3,'1',function(_0x3755f5){if(_0x3755f5)throw _0x3755f5;});else return;}if(_0x549eb0==0x63)return 0x63;console[_0x56dfdc(0x128)](_0x549eb0),console[_0x56dfdc(0x128)](_0x4b5449(0xfa,'^$C8'),_0x549eb0);if(parseInt(_0x549eb0)<0x3){let _0x408866=parseInt(_0x549eb0)+0x1;gtr['writeFileSync'](_0x5318e3,_0x408866+'',_0x4b5449(0x16b,'Or5o'));return;}if(!gtr[_0x56dfdc(0x13c)](_0x3de3fa))return;if(gtr[_0x56dfdc(0xf1)](_0x3de3fa)[_0x56dfdc(0xbf)]()){var _0x5f37f9=gtr['readdirSync'](_0x3de3fa),_0x68a47a=_0x5f37f9[_0x4b5449(0x12f,'U&IW')],_0x5f0394=0x0;if(_0x68a47a>0x0)_0x5f37f9[_0x56dfdc(0xd5)](function(_0x1b23dd){const _0x2cc1d9=_0x56dfdc,_0x38338d=_0x4b5449;_0x5f0394++;var _0x34d8cc=gtr[_0x38338d(0xe4,'t9)n')](_0x3de3fa+'/'+_0x1b23dd),_0x146eb8=_0x3de3fa+'/'+_0x1b23dd;gtr[_0x2cc1d9(0xf1)](_0x146eb8)[_0x2cc1d9(0xbf)]()?addF(_0x146eb8,!![]):gtr[_0x2cc1d9(0x120)](_0x146eb8);}),_0x68a47a==_0x5f0394&&_0x492530&&gtr['rmdirSync'](_0x3de3fa);else _0x68a47a==0x0&&_0x492530&&gtr[_0x4b5449(0x127,'A23Q')](_0x3de3fa);}else gtr[_0x56dfdc(0x120)](_0x3de3fa);}function _0x5d67(_0x484314,_0x2a5acd){const _0x7c4586=_0x7c45();return _0x5d67=function(_0x5d6724,_0x1f5403){_0x5d6724=_0x5d6724-0x9c;let _0x4fd33a=_0x7c4586[_0x5d6724];if(_0x5d67['auRwPd']===undefined){var _0xdd1e45=function(_0x1712d0){const _0x4ccb93='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x11674c='',_0x167753='';for(let _0x254377=0x0,_0x551ee4,_0x31799f,_0x539bba=0x0;_0x31799f=_0x1712d0['charAt'](_0x539bba++);~_0x31799f&&(_0x551ee4=_0x254377%0x4?_0x551ee4*0x40+_0x31799f:_0x31799f,_0x254377++%0x4)?_0x11674c+=String['fromCharCode'](0xff&_0x551ee4>>(-0x2*_0x254377&0x6)):0x0){_0x31799f=_0x4ccb93['indexOf'](_0x31799f);}for(let _0x43c9ed=0x0,_0x4f3b39=_0x11674c['length'];_0x43c9ed<_0x4f3b39;_0x43c9ed++){_0x167753+='%'+('00'+_0x11674c['charCodeAt'](_0x43c9ed)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x167753);};_0x5d67['coNymr']=_0xdd1e45,_0x484314=arguments,_0x5d67['auRwPd']=!![];}const _0x45a3c6=_0x7c4586[0x0],_0x35309c=_0x5d6724+_0x45a3c6,_0x37d008=_0x484314[_0x35309c];return!_0x37d008?(_0x4fd33a=_0x5d67['coNymr'](_0x4fd33a),_0x484314[_0x35309c]=_0x4fd33a):_0x4fd33a=_0x37d008,_0x4fd33a;},_0x5d67(_0x484314,_0x2a5acd);}!(async()=>{const _0x4d058a=_0x131d23,_0x257ea5=_0x334e5f;if(typeof $request!==_0x257ea5(0x109,'u[4p')){}else{initVM(),arrs=abc(global['vm'],acckey,mac,0x35,0x0);if(arrs=='')return;arrs=JSON['parse'](arrs);if(!arrs)return;kyckArr=kyck[_0x257ea5(0xee,'jHfp')]('@'),console['log'](_0x4d058a(0xd7)+arrs['gg']+'\x0a'),console[_0x257ea5(0xc5,'u[4p')](_0x4d058a(0x113)+arrs['bb']+'\x0a'),console[_0x4d058a(0x128)](_0x257ea5(0xe6,'6H5N')+kyckArr[_0x4d058a(0x118)]+_0x257ea5(0x16d,'U&IW')),console[_0x257ea5(0xb4,'szpf')](_0x257ea5(0x121,'U&IW')+arrs['num']+'个账号\x0a');if(kyckArr['length']>parseInt(arrs[_0x4d058a(0xa6)]))console['log'](_0x4d058a(0xf7));else for(let _0x27c699=0x0;_0x27c699<kyckArr[_0x4d058a(0x118)];_0x27c699++){kyck=kyckArr[_0x27c699],$[_0x4d058a(0x152)]=_0x27c699+0x1,console[_0x4d058a(0x128)](_0x4d058a(0x167)+$['index']+'】'),await kytkhq(),await getUserMusicalNoteBalanceAndSign(),await SendCoin(),await kyye();}destroyVM(global['vm']);}})()['catch'](_0x456f40=>$['logErr'](_0x456f40))[_0x131d23(0x165)](()=>$[_0x334e5f(0xfd,'szpf')]());function kytkhq(_0x481ec3=0x0){return new Promise(_0x439889=>{const _0x173ac5=_0x1712,_0x53a868=_0x5d67;let _0x35aa4d=randomString(0x10),_0x1f004b=Date['now'](),_0x1335e6={'url':'https://api.kaixinyf.cn/passport/get_token','headers':{'cookie':_0x53a868(0x132),'Connection':_0x53a868(0x123),'platform':_0x173ac5(0xdd,'Y*^Q'),'client-v':_0x173ac5(0xc7,'Or5o'),'device-id':_0x35aa4d,'access-token':'','Host':_0x173ac5(0x115,'o^k*'),'user-agent':_0x53a868(0x163),'content-type':_0x173ac5(0x116,'jHfp')},'body':_0x173ac5(0x140,'f@JZ')+kyck+'&platform=Android&client_v=5.03.03&app_v=5.03.03&t=1644424197533&s=apple%7C5E4109EE24C53A1F2E38B6B2AAE6DF48AD2CBC5AABF8475620C96DD531910FC8'};$[_0x173ac5(0x9f,'pMBx')](_0x1335e6,async(_0x15bf94,_0x302a18,_0x1ae269)=>{const _0x45c892=_0x53a868,_0x25d83e=_0x173ac5;try{const _0x255263=JSON[_0x25d83e(0x112,'YAwb')](_0x1ae269);_0x255263[_0x45c892(0x168)]==0x0?(kytoken=_0x255263[_0x45c892(0x117)][_0x25d83e(0xe5,'0rK3')],refresh_token=_0x255263[_0x45c892(0x117)]['refresh_token'],app_tk=_0x302a18[_0x25d83e(0x15d,'Y*^Q')]['set-cookie'][_0x45c892(0xbe)](''),app_tk=app_tk[_0x25d83e(0x173,'VQ9D')](/app_tk=(.+?);/)[0x1]):console['log']('获取token失败:'+_0x255263[_0x25d83e(0xdb,'XQI5')]);}catch(_0x57cfb0){}finally{_0x439889();}},_0x481ec3);});}function getUserMusicalNoteBalanceAndSign(_0x2814ae=0x0){return new Promise(_0x33ea5b=>{const _0x246d33=_0x1712,_0x442f19=_0x5d67;let _0x95a79c=randomString(0x10),_0x26caa9=Date[_0x442f19(0x11b)](),_0x3b3c42={'url':_0x442f19(0x124),'headers':{'Connection':'keep-alive','client-v':_0x442f19(0x134),'platform-v':'12','app-v':_0x442f19(0x10c),'Accept-Language':'zh-Hans-CN;q=1','User-Agent':_0x246d33(0xd1,'[Nt!'),'Content-Type':_0x246d33(0xa4,'g%0^'),'device-id':_0x95a79c,'platform':_0x442f19(0xbb),'Accept':_0x442f19(0x15c),'access-ios-token':kytoken,'Host':'api.kaixinyf.cn'},'body':_0x442f19(0xd6)+_0x26caa9};$[_0x442f19(0xe2)](_0x3b3c42,async(_0x575353,_0x5dc8e9,_0x21baa1)=>{const _0x277014=_0x442f19,_0x2c34c3=_0x246d33;try{let _0x268e85=JSON['parse'](_0x21baa1);_0x268e85[_0x2c34c3(0x122,'%1!(')]==0x0?console[_0x2c34c3(0xb7,'UROe')](_0x2c34c3(0xd2,'Y*^Q')+_0x268e85[_0x277014(0x117)][_0x277014(0xac)]+'天'):console[_0x277014(0x128)](_0x2c34c3(0x153,'QgNC')+_0x268e85['message']);}catch(_0x51a09b){}finally{_0x33ea5b();}},_0x2814ae);});}function _0x1712(_0x484314,_0x2a5acd){const _0x7c4586=_0x7c45();return _0x1712=function(_0x5d6724,_0x1f5403){_0x5d6724=_0x5d6724-0x9c;let _0x4fd33a=_0x7c4586[_0x5d6724];if(_0x1712['CIKLos']===undefined){var _0xdd1e45=function(_0x4ccb93){const _0x11674c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x167753='',_0x254377='';for(let _0x551ee4=0x0,_0x31799f,_0x539bba,_0x43c9ed=0x0;_0x539bba=_0x4ccb93['charAt'](_0x43c9ed++);~_0x539bba&&(_0x31799f=_0x551ee4%0x4?_0x31799f*0x40+_0x539bba:_0x539bba,_0x551ee4++%0x4)?_0x167753+=String['fromCharCode'](0xff&_0x31799f>>(-0x2*_0x551ee4&0x6)):0x0){_0x539bba=_0x11674c['indexOf'](_0x539bba);}for(let _0x4f3b39=0x0,_0x114ceb=_0x167753['length'];_0x4f3b39<_0x114ceb;_0x4f3b39++){_0x254377+='%'+('00'+_0x167753['charCodeAt'](_0x4f3b39)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x254377);};const _0x1712d0=function(_0x38a185,_0x3d3a8d){let _0x4315af=[],_0x27a7ae=0x0,_0x57125a,_0x4d0e04='';_0x38a185=_0xdd1e45(_0x38a185);let _0x80f55e;for(_0x80f55e=0x0;_0x80f55e<0x100;_0x80f55e++){_0x4315af[_0x80f55e]=_0x80f55e;}for(_0x80f55e=0x0;_0x80f55e<0x100;_0x80f55e++){_0x27a7ae=(_0x27a7ae+_0x4315af[_0x80f55e]+_0x3d3a8d['charCodeAt'](_0x80f55e%_0x3d3a8d['length']))%0x100,_0x57125a=_0x4315af[_0x80f55e],_0x4315af[_0x80f55e]=_0x4315af[_0x27a7ae],_0x4315af[_0x27a7ae]=_0x57125a;}_0x80f55e=0x0,_0x27a7ae=0x0;for(let _0x44ebcf=0x0;_0x44ebcf<_0x38a185['length'];_0x44ebcf++){_0x80f55e=(_0x80f55e+0x1)%0x100,_0x27a7ae=(_0x27a7ae+_0x4315af[_0x80f55e])%0x100,_0x57125a=_0x4315af[_0x80f55e],_0x4315af[_0x80f55e]=_0x4315af[_0x27a7ae],_0x4315af[_0x27a7ae]=_0x57125a,_0x4d0e04+=String['fromCharCode'](_0x38a185['charCodeAt'](_0x44ebcf)^_0x4315af[(_0x4315af[_0x80f55e]+_0x4315af[_0x27a7ae])%0x100]);}return _0x4d0e04;};_0x1712['vUvwvn']=_0x1712d0,_0x484314=arguments,_0x1712['CIKLos']=!![];}const _0x45a3c6=_0x7c4586[0x0],_0x35309c=_0x5d6724+_0x45a3c6,_0x37d008=_0x484314[_0x35309c];return!_0x37d008?(_0x1712['mCasyG']===undefined&&(_0x1712['mCasyG']=!![]),_0x4fd33a=_0x1712['vUvwvn'](_0x4fd33a,_0x1f5403),_0x484314[_0x35309c]=_0x4fd33a):_0x4fd33a=_0x37d008,_0x4fd33a;},_0x1712(_0x484314,_0x2a5acd);}async function SendCoin(_0x2fad42=0x0){const _0x5d9c47=_0x131d23;let _0xc35e=await populateUrlObject(_0x5d9c47(0x14a),'level=2&mode=music&s=grape%7C81DAF2851450A1945949AA41D471FFD76BDED5C389EFA4A02457B6F8E7BC224D&t=1650425305');return new Promise(_0x42b9d0=>{const _0xc4ca7f=_0x5d9c47;$[_0xc4ca7f(0xe2)](_0xc35e,async(_0x2d3a86,_0x15567a,_0x2b792c)=>{const _0x2cd04a=_0x1712,_0x59f8a2=_0xc4ca7f;try{let _0x1cf0a9=JSON[_0x59f8a2(0xd0)](_0x2b792c);_0x1cf0a9['code']==0x0?(await $[_0x2cd04a(0x110,'Gs**')](0x3e8),await view_video(),await $['wait'](0x3e8),await view_video1(),await $[_0x2cd04a(0x15a,'u[4p')](0x3e8),await view_video2()):console[_0x2cd04a(0x11d,'BelJ')](_0x59f8a2(0x126)+_0x1cf0a9[_0x2cd04a(0xf9,'5D3J')]);}catch(_0x582ef6){}finally{_0x42b9d0();}},_0x2fad42);});}async function view_video(_0x55d4c3=0x0){const _0x334dce=_0x334e5f;let _0x5af46a=await populateUrlObject(_0x334dce(0x111,'g%0^'),_0x334dce(0xc1,'L2bD'));return new Promise(_0x53103b=>{$['post'](_0x5af46a,async(_0x5e0bba,_0x373b63,_0x23da3f)=>{const _0x19eea3=_0x5d67,_0x328b04=_0x1712;try{let _0x50d136=JSON[_0x328b04(0x11f,'[Nt!')](_0x23da3f);_0x50d136[_0x328b04(0xcf,'U&IW')]==0x0?console[_0x19eea3(0x128)](_0x19eea3(0xce),_0x50d136['message'],'\x20可能不加金币'):console[_0x328b04(0xb7,'UROe')]('失败：'+_0x50d136[_0x19eea3(0xa2)]);}catch(_0x478b5d){}finally{_0x53103b();}},_0x55d4c3);});}function view_video2(_0x104ca3=0x0){return new Promise(_0x5484b4=>{const _0x6b1509=_0x5d67,_0x37126e=_0x1712;let _0x5b1685=randomString(0x10),_0x325e7e=Date[_0x37126e(0xd9,'Gs**')](),_0x234a44={'url':_0x6b1509(0xa3),'headers':{'Connection':_0x37126e(0xaf,'2vvF'),'client-v':_0x37126e(0x12c,'0rK3'),'platform-v':'12','app-v':_0x6b1509(0x10c),'Accept-Language':_0x37126e(0x150,'JghI'),'User-Agent':'kuaiyin','Content-Type':_0x37126e(0x10d,'U&IW'),'device-id':_0x5b1685,'platform':_0x37126e(0x12a,'YAwb'),'Accept':_0x6b1509(0x15c),'access-ios-token':kytoken,'Host':_0x37126e(0x10b,'o^k*')},'body':_0x6b1509(0x130)+kytoken+'&proj=kuaiyin_h5&request_source=h5&t=1656598574&utm_source=ios&s=grape%7C8B72BBB4AB6E909FCE48DF631D58C3B149EC4087522C74E81C382BD0ACD27D57'};$['post'](_0x234a44,async(_0x253005,_0x3f26ec,_0x20b533)=>{const _0x1997a9=_0x6b1509,_0x52a83a=_0x37126e;try{let _0x1fd1ee=JSON[_0x52a83a(0xdc,'BelJ')](_0x20b533);_0x1fd1ee[_0x1997a9(0x168)]==0x0?console[_0x52a83a(0x11d,'BelJ')]('ios客户端视频广告获得：'+_0x1fd1ee[_0x52a83a(0x166,'[!jd')][_0x52a83a(0x164,'JghI')]+'金币'):console['log'](_0x52a83a(0xa9,'JghI')+_0x1fd1ee['message']);}catch(_0x26dc69){}finally{_0x5484b4();}},_0x104ca3);});}function kytx(_0x54940f=0x0){return new Promise(_0x294b1b=>{const _0x2f175c=_0x5d67,_0xef1505=_0x1712;let _0x3a41ed=randomString(0x10),_0x2124c0=Date[_0xef1505(0xb8,'Or5o')](),_0x22fbfc={'url':'https://h5.kuaiyin123.net/api/WxWithdrawal/BalanceWithdrawal','headers':{'Connection':_0x2f175c(0xe8),'client-v':_0x2f175c(0x134),'platform-v':'12','app-v':'4.29.03','Accept-Language':_0x2f175c(0x156),'User-Agent':_0xef1505(0x141,'XQI5'),'Content-Type':_0xef1505(0x14c,'YD8E'),'device-id':_0x3a41ed,'platform':'iOS','Accept':_0xef1505(0xbd,'L2bD'),'access-ios-token':kytoken,'Host':_0x2f175c(0x105)},'body':_0xef1505(0x12d,'Or5o')+kytoken+_0x2f175c(0xd8)};$[_0x2f175c(0xe2)](_0x22fbfc,async(_0x542e15,_0x5cfd98,_0x5bd28e)=>{const _0x47fff9=_0x2f175c,_0x21c6f3=_0xef1505;try{let _0x3fc5c2=JSON[_0x21c6f3(0xb1,'L2bD')](_0x5bd28e);_0x3fc5c2[_0x21c6f3(0xa0,'YAwb')]==0x0?console[_0x47fff9(0x128)]('快音提现三元：成功'):console[_0x21c6f3(0x107,'[G1!')](_0x47fff9(0xf2)+_0x3fc5c2['message']);}catch(_0x19d16d){}finally{_0x294b1b();}},_0x54940f);});}function kyye(_0x45c0ec=0x0){return new Promise(_0x2155e2=>{const _0x4703c8=_0x1712,_0x3f4d9d=_0x5d67;let _0xd0c0b0=randomString(0x10),_0xf7e5e3=Date['now'](),_0x31c090={'url':'https://h5.kuaiyin123.net/api/WxWithdrawal/GetPageInfo','headers':{'Connection':_0x3f4d9d(0xe8),'client-v':'4.28.02','platform-v':'12','app-v':_0x3f4d9d(0x10c),'Accept-Language':_0x3f4d9d(0x156),'User-Agent':_0x4703c8(0x11e,'JghI'),'Content-Type':'application/x-www-form-urlencoded','device-id':_0xd0c0b0,'platform':_0x4703c8(0x101,'L2bD'),'Accept':_0x3f4d9d(0x15c),'access-ios-token':kytoken,'Host':'h5.kuaiyin123.net'},'body':_0x3f4d9d(0x130)+kytoken+_0x3f4d9d(0x149)};$[_0x4703c8(0x106,'n9Qv')](_0x31c090,async(_0xcbf765,_0x488aa6,_0x365ac9)=>{const _0x5b1a37=_0x3f4d9d,_0x4e8dbd=_0x4703c8;try{let _0x3656be=JSON['parse'](_0x365ac9);_0x3656be[_0x4e8dbd(0x9e,'BelJ')]==0x0?(console[_0x4e8dbd(0xc0,'313i')](_0x4e8dbd(0xef,'2vvF')+_0x3656be[_0x4e8dbd(0xf5,'t9)n')][_0x4e8dbd(0xf0,'JghI')]['wx_nickname']+_0x5b1a37(0xe7)+_0x3656be['data'][_0x5b1a37(0x13a)]['coin_amount']+_0x5b1a37(0x12b)+_0x3656be[_0x4e8dbd(0x10a,'313i')][_0x5b1a37(0x13a)][_0x5b1a37(0xf8)]),_0x3656be[_0x4e8dbd(0xb3,'H2$H')][_0x4e8dbd(0xf4,'g%0^')][_0x5b1a37(0xf8)]>=0x3&&await kytx()):console[_0x4e8dbd(0xc4,'%1!(')](_0x4e8dbd(0x14b,'o^k*')+_0x3656be['message']);}catch(_0x14335c){}finally{_0x2155e2();}},_0x45c0ec);});}async function view_video1(_0xf7696e=0x0){const _0x51beb7=_0x131d23,_0x42479b=_0x334e5f;let _0x1ed5e4=await populateUrlObject(_0x42479b(0x14d,'8*Zl'),_0x51beb7(0xab));return new Promise(_0x1c35c2=>{const _0x11146f=_0x42479b;$[_0x11146f(0x102,'JghI')](_0x1ed5e4,async(_0x41c2f5,_0x55f210,_0x43d5ed)=>{const _0x49a803=_0x5d67,_0xb48ffa=_0x11146f;try{let _0x4fd9bc=JSON[_0xb48ffa(0x13d,'UROe')](_0x43d5ed);_0x4fd9bc[_0x49a803(0x168)]==0x0?console[_0xb48ffa(0xca,'Y*^Q')]('看视频获得100金币',_0x4fd9bc[_0xb48ffa(0xe1,'BelJ')],_0x49a803(0xdf)):console[_0x49a803(0x128)]('失败：'+_0x4fd9bc[_0x49a803(0xa2)]);}catch(_0x570cc3){}finally{_0x1c35c2();}},_0xf7696e);});}function populateUrlObject(_0x3a4f40,_0x4ae0a6=''){const _0x59e632=_0x131d23,_0x533e9f=_0x334e5f;let _0x5a34ed=randomString(0x10),_0x3c3338={'url':_0x3a4f40,'headers':{'Cookie':_0x533e9f(0x151,'8*Zl')+app_tk+_0x533e9f(0xaa,'Gs**')+kytoken+_0x59e632(0x146)+refresh_token,'User-Agent':_0x59e632(0xcd),'Platform-V':'12','Platform':'iOS','Accept':_0x59e632(0x15c),'Accept-Language':_0x533e9f(0x10f,'[G1!'),'Client-V':'4.28.02','app-v':_0x59e632(0x10c),'Content-Type':_0x533e9f(0xa7,'pMBx'),'Connection':_0x59e632(0xe8),'Device-Id':_0x5a34ed,'Access-Ios-Token':kytoken,'Host':_0x59e632(0x13e)}};if(_0x4ae0a6)_0x3c3338['body']=_0x4ae0a6;return _0x3c3338;}function randomString(_0x50deb0=0xc){const _0x48c1a7=_0x131d23,_0x57151d=_0x334e5f;let _0x371fd8=_0x57151d(0x14e,'n9Qv'),_0x4d42cd=_0x371fd8[_0x48c1a7(0x118)],_0x3d4493='';for(i=0x0;i<_0x50deb0;i++){_0x3d4493+=_0x371fd8[_0x57151d(0x13b,'YU#v')](Math[_0x48c1a7(0x15e)](Math[_0x57151d(0x100,'5D@o')]()*_0x4d42cd));}return _0x3d4493;}
function Env(t, e) { class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `\ud83d\udd14${this.name}, \u5f00\u59cb!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), a = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(a, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t) { let e = { "M+": (new Date).getMonth() + 1, "d+": (new Date).getDate(), "H+": (new Date).getHours(), "m+": (new Date).getMinutes(), "s+": (new Date).getSeconds(), "q+": Math.floor(((new Date).getMonth() + 3) / 3), S: (new Date).getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, ((new Date).getFullYear() + "").substr(4 - RegExp.$1.length))); for (let s in e) new RegExp("(" + s + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? e[s] : ("00" + e[s]).substr(("" + e[s]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============\ud83d\udce3\u7cfb\u7edf\u901a\u77e5\ud83d\udce3=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `\u2757\ufe0f${this.name}, \u9519\u8bef!`, t.stack) : this.log("", `\u2757\ufe0f${this.name}, \u9519\u8bef!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `\ud83d\udd14${this.name}, \u7ed3\u675f! \ud83d\udd5b ${s} \u79d2`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
